<!DOCTYPE html>
<html>
  <head>
    <title>Preview Content</title>
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: auto;
        background-color: #f1f2f3;
      }
      .container {
        box-sizing: border-box;
        width: 1000px;
        max-width: 100%;
        min-height: 100%;
        margin: 0 auto;
        padding: 30px 20px;
        overflow: hidden;
        background-color: #fff;
        border-right: solid 1px #eee;
        border-left: solid 1px #eee;
      }
      .container img,
      .container audio,
      .container video {
        max-width: 100%;
        height: auto;
      }
      .container p {
        white-space: pre-wrap;
        min-height: 1em;
      }
      .container pre {
        padding: 15px;
        background-color: #f1f1f1;
        border-radius: 5px;
      }
      .container blockquote {
        margin: 0;
        padding: 15px;
        background-color: #f1f1f1;
        border-left: 3px solid #d1d1d1;
      }
      .braft-output-content p {
        min-height: 1em;
      }
      .braft-output-content .image-wrap img {
        max-width: 100%;
        height: auto;
      }
      .braft-output-content ul,
      .braft-output-content ol {
        margin: 16px 0;
        padding: 0;
      }
      .braft-output-content blockquote {
        margin: 0 0 10px 0;
        padding: 15px 20px;
        background-color: #f1f2f3;
        border-left: solid 5px #ccc;
        color: #666;
        font-style: italic;
      }
      .braft-output-content pre {
        max-width: 100%;
        max-height: 100%;
        margin: 10px 0;
        padding: 15px;
        overflow: auto;
        background-color: #f1f2f3;
        border-radius: 3px;
        color: #666;
        font-family: monospace;
        font-size: 14px;
        font-weight: normal;
        line-height: 16px;
        word-wrap: break-word;
        white-space: pre-wrap;
      }
      .braft-output-content pre pre {
        margin: 0;
        padding: 0;
      }
      .image-wrap img {
        line-height: 0; /*用于消除图片默认的下边距，或者用line-height:0;也行*/
      }
      .image-wrap + p:empty {
        display: none;
      }
    </style>
  </head>
  <body>
    <h3>01 标题1</h3>
    <p style="text-indent:2em;">这个app很好用，是我最新换的一个之一</p>
    <div class="media-wrap image-wrap float-left" style="float:left">
      <img
        src="data:image/png;base64,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"
      />
    </div>
    <div class="media-wrap image-wrap float-left" style="float:left">
      <img
        src="data:image/png;base64,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"
      />
    </div>
    <script>
      (function(win, lib) {
        var doc = win.document;
        var docEl = doc.documentElement;
        var metaEl = doc.querySelector('meta[name="viewport"]');
        var flexibleEl = doc.querySelector('meta[name="flexible"]');
        var dpr = 0;
        var scale = 0;
        var tid;
        var flexible = lib.flexible || (lib.flexible = {});

        if (metaEl) {
          console.warn('将根据已有的meta标签来设置缩放比例');
          var match = metaEl.getAttribute('content').match(/initial\-scale=([\d\.]+)/);
          if (match) {
            scale = parseFloat(match[1]);
            dpr = parseInt(1 / scale);
          }
        } else if (flexibleEl) {
          var content = flexibleEl.getAttribute('content');
          if (content) {
            var initialDpr = content.match(/initial\-dpr=([\d\.]+)/);
            var maximumDpr = content.match(/maximum\-dpr=([\d\.]+)/);
            if (initialDpr) {
              dpr = parseFloat(initialDpr[1]);
              scale = parseFloat((1 / dpr).toFixed(2));
            }
            if (maximumDpr) {
              dpr = parseFloat(maximumDpr[1]);
              scale = parseFloat((1 / dpr).toFixed(2));
            }
          }
        }

        if (!dpr && !scale) {
          var isAndroid = win.navigator.appVersion.match(/android/gi);
          var isIPhone = win.navigator.appVersion.match(/iphone/gi);
          var devicePixelRatio = win.devicePixelRatio;
          if (isIPhone) {
            // iOS下，对于2和3的屏，用2倍的方案，其余的用1倍方案
            if (devicePixelRatio >= 3 && (!dpr || dpr >= 3)) {
              dpr = 3;
            } else if (devicePixelRatio >= 2 && (!dpr || dpr >= 2)) {
              dpr = 2;
            } else {
              dpr = 1;
            }
          } else {
            // 其他设备下，仍旧使用1倍的方案
            dpr = 1;
          }
          scale = 1 / dpr;
        }

        docEl.setAttribute('data-dpr', dpr);
        if (!metaEl) {
          metaEl = doc.createElement('meta');
          metaEl.setAttribute('name', 'viewport');
          metaEl.setAttribute(
            'content',
            'initial-scale=' +
              scale +
              ', maximum-scale=' +
              scale +
              ', minimum-scale=' +
              scale +
              ', user-scalable=no'
          );
          if (docEl.firstElementChild) {
            docEl.firstElementChild.appendChild(metaEl);
          } else {
            var wrap = doc.createElement('div');
            wrap.appendChild(metaEl);
            doc.write(wrap.innerHTML);
          }
        }

        function refreshRem() {
          var width = docEl.getBoundingClientRect().width;
          if (width / dpr > 540) {
            width = 540 * dpr;
          }
          var rem = width / 10;
          docEl.style.fontSize = rem + 'px';
          flexible.rem = win.rem = rem;
        }

        win.addEventListener(
          'resize',
          function() {
            clearTimeout(tid);
            tid = setTimeout(refreshRem, 300);
          },
          false
        );
        win.addEventListener(
          'pageshow',
          function(e) {
            if (e.persisted) {
              clearTimeout(tid);
              tid = setTimeout(refreshRem, 300);
            }
          },
          false
        );

        if (doc.readyState === 'complete') {
          doc.body.style.fontSize = 12 * dpr + 'px';
        } else {
          doc.addEventListener(
            'DOMContentLoaded',
            function(e) {
              doc.body.style.fontSize = 12 * dpr + 'px';
            },
            false
          );
        }

        refreshRem();

        flexible.dpr = win.dpr = dpr;
        flexible.refreshRem = refreshRem;
        flexible.rem2px = function(d) {
          var val = parseFloat(d) * this.rem;
          if (typeof d === 'string' && d.match(/rem$/)) {
            val += 'px';
          }
          return val;
        };
        flexible.px2rem = function(d) {
          var val = parseFloat(d) / this.rem;
          if (typeof d === 'string' && d.match(/px$/)) {
            val += 'rem';
          }
          return val;
        };
      })(window, window['lib'] || (window['lib'] = {}));
    </script>
  </body>
</html>
